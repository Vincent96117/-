// --- æ ¸å¿ƒé¡¯ç¤ºé‚è¼¯ (è«‹ç›´æ¥æ›´æ–° renderTable éƒ¨åˆ†) ---

function renderTable() {
    document.getElementById('list-body').innerHTML = rawResults.map(r => `
        <tr class="${r.isTangling ? 'row-tangling' : ''}">
            <td><span class="del-btn" onclick="removeSymbol('${r.s}')">âœ•</span></td>
            <td>${r.isTangling ? 'ğŸ’ æ½›ä¼' : 'ğŸ“Š è¶¨å‹¢'}</td>
            <td style="font-weight:bold; color:#fff;">${r.s.replace('USDT','')}<span class="info-tag">ğŸ¯ ${r.tp}% / -${r.sl}%</span></td>
            <td class="${r.thrustLv >= 8 ? 'lv-high' : ''}">LV ${r.thrustLv}<span class="info-tag">é‡æ¯”: ${r.vRatio}x</span></td>
            <td>
                <span class="score-box ${r.totalScore >= 90 ? 'score-alert' : 'score-normal'}">${r.totalScore}</span>
                <span class="info-tag" style="font-size:9px; color:#888;">æ³¢:${r.det.s1} ç³¾:${r.det.s2} é‡:${r.det.s3} è¶¨:${r.det.s4}</span>
            </td>
            <td style="color:${r.isTangling ? '#00ffcc' : '#eee'}; font-weight:bold;">${r.funding.toFixed(4)}%</td>
            <td><span class="decouple-tag ${r.decoupleStatus.includes('âš¡') ? 'tag-independent' : 'tag-follow'}">${r.decoupleStatus}</span><span class="info-tag">${r.change}%</span></td>
        </tr>`).join('');
}

// --- åœ¨ getSymbolData çµå°¾åŠ å…¥ç´°ç¯€å›å‚³ ---
return { 
    s, totalScore, thrustLv, tp, sl, funding, change, decoupleStatus, isTangling, vRatio,
    det: { s1: Math.round(s1), s2: Math.round(s2), s3: Math.round(s3), s4: Math.round(s4) } 
};
